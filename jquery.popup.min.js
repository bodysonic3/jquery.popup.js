/**
 * jquery.popup.js v. 1.1.3
 * author: Roma Maslennikov
 * link: https://github.com/romamaslennikov/jquery.popup.js
 **/
!function(t,o){function i(i,s){return this.obj=i,this._thisHeight=i.outerHeight(),this._window=t(o),this._thisTransformHideDefault="scale(0)",this._thisTransformShowDefault="scale(1)",this.popupBg=t("#popup-bg"),this.count="",this.options=t.extend({background:"#000",position:"absolute",opacity:.5,zIndex:123456788,classAnimateShow:"",classAnimateHide:"",time:400,onPopupClose:function(){},onPopupInit:function(){}},s,!0),"object"!=typeof s&&s?this[s]():(this.init(),this.initOverlay(),this.onEvents()),this}i.prototype={init:function(){var t=this;return""!=this.options.classAnimateShow?(this.obj.removeClass(this.options.classAnimateHide),this.obj.css({position:this.options.position,WebkitAnimationDuration:this.options.time/1e3+"s",animationDuration:this.options.time/1e3+"s",zIndex:this.options.zIndex+1}).show().addClass("animated "+this.options.classAnimateShow)):this.obj.css({position:this.options.position,zIndex:this.options.zIndex+1,transform:this._thisTransformHideDefault,transition:"transform "+this.options.time/1e3+"s ease-out"}).fadeIn(this.options.time).css({transform:this._thisTransformShowDefault}),"fixed"==this.options.position?(this.popupPosition(),this._window.resize(function(){t.obj.css({transition:"left "+t.options.time/1e3+"s ease-out, top "+t.options.time/1e3+"s ease-out"}),t.popupPosition(),t.popupBgAddCss()})):"absolute"==this.options.position&&(this.popupPositionRezise(),t._window.resize(function(){t.obj.css({transition:"left "+t.options.time/1e3+"s ease-out, top "+t.options.time/1e3+"s ease-out"}),t.popupPositionRezise(),t.popupBgAddCss()})),this.options.onPopupInit(),this.obj},initOverlay:function(){var o=this;null==document.getElementById("popup-bg")&&t("<div/>",{"data-count":"0",id:"popup-bg",css:{position:"fixed",top:0,height:t(document).height(),width:t(document).width(),left:0,display:"none",background:this.options.background,opacity:this.options.opacity,filter:"alpha(opacity="+100*this.options.opacity+")",zIndex:this.options.zIndex,cursor:"pointer"}}).appendTo("body"),this.popupBg=t("#popup-bg"),o.count=this.popupBg.data("count"),this.popupBg.data("count",++o.count),this.popupBg.show(),this.popupBgAddCss(),this._window.scroll(function(){o.popupBg.height(t(document).height()),o.popupBg.width(t(document).width())})},popupClose:function(){var o=this,i=t("#popup-bg");return o.count=i.data("count"),i.data("count",--o.count),o.count=i.data("count"),""!=this.options.classAnimateHide?(this.obj.removeClass(this.options.classAnimateShow),this.obj.addClass("animated "+this.options.classAnimateHide),setTimeout(function(){o.obj.hide()},o.options.time)):(this.obj.fadeOut(this.options.time).css({transform:this._thisTransformHideDefault}),this.obj.removeClass("animated "+this.options.classAnimateShow)),0==o.count&&this.popupBg.fadeOut(this.options.time),this.obj},close:function(){var t=this;t.popupBg.trigger("click")},popupPosition:function(){return this.obj.css({top:this._window.height()/2-this.obj.outerHeight()/2,left:this._window.width()/2-this.obj.outerWidth()/2}),this.obj},popupPositionRezise:function(){var t=this.obj.offsetParent();return this._thisHeight>this._window.height()?this.obj.css({top:-t.offset().top+this._window.scrollTop()+5}):this.obj.css({top:-t.offset().top+this._window.scrollTop()+this._window.height()/2-this.obj.outerHeight()/2}),this.obj.outerWidth()>this._window.width()?this.obj.css({left:-t.offset().left+this._window.scrollLeft()+5}):this.obj.css({left:-t.offset().left+this._window.scrollLeft()+this._window.width()/2-this.obj.outerWidth()/2}),this.obj},popupBgAddCss:function(){this.popupBg.height(t(document).height()),this.popupBg.width(t(document).width())},onEvents:function(){var o=this;o.popupBg.on({click:function(){o.count=1,o.popupBg.data("count",1),o.popupClose(o.options.onPopupClose()),t(document).off("keydown")}}),t(".js-popup-close",o.obj).off().on({click:function(){o.popupClose(o.options.onPopupClose())}}),t(document).on("keydown",function(t){27==t.keyCode&&(o.count=1,o.popupBg.data("count",1),o.popupClose(o.options.onPopupClose()))})}},t.fn.popup=function(t){var o=this;return new i(o,t),this}}(jQuery,window);